---
// src/components/MDXImage.astro
const { src, alt, title } = Astro.props;

// 核心修改：如果没写 title，就用 alt 当作图注。
// 为了防止 PicList 默认生成的 "image" 或者 "图片" 显示在底下，我们可以加个判断过滤掉无意义的词。
const isDefaultAlt = alt === 'image' || alt === '图片';
const caption = title || (isDefaultAlt ? null : alt);
---

<figure class="my-8 flex flex-col items-center justify-center">
  <img 
    src={src} 
    alt={alt} 
    title={title}
    class="rounded-lg shadow-md max-w-full h-auto transition-transform duration-300 hover:scale-[1.01]"
    loading="lazy" 
    decoding="async"
  />
  
  {/* 现在，只要 caption 有值，就会显示图注 */}
  {caption && (
    <figcaption class="mt-2 text-sm text-gray-500 italic text-center">
      {caption}
    </figcaption>
  )}
</figure>